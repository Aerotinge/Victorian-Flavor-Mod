namespace = ottoman_dynasty #events around deaths and succession
namespace = tur_major_holidays
namespace = tanzimat_events
namespace = vilayet_events

# Death of Mahmud II
ottoman_dynasty.1 = {
		type = country_event
		title = ottoman_dynasty.1.t
		desc = ottoman_dynasty.1.d
		flavor =  ottoman_dynasty.1.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Sick Man je
	}
	option = { #The Sultan is dead, long live the Sultan
		name = ottoman_dynasty.1.a
		default_option = yes
		custom_tooltip = ottoman_dynasty.1.tt
	}
}

vilayet_events.1 = { #State organised into Vilayet
		type = state_event
		title = vilayet_events.1.t
		desc = vilayet_events.1.d
		flavor =  vilayet_events.1.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Bureaucracy je
	}
	option = { 
		name = vilayet_events.1.a
		default_option = yes
	}
}

vilayet_events.2 = { #Bringing Egypt to heel
		type = state_event
		title = vilayet_events.2.t
		desc = vilayet_events.2.d
		flavor =  vilayet_events.2.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Syria je
	}
	option = { #We will confirm him as Khedive
		name = vilayet_events.2.a
		default_option = yes
		custom_tooltip = vilayet_events.2.tta
		c:EGY = {
			trigger_event = {
				id = vilayet_events.3
				days = 7
			}
		}
	}
	option = { #He will be the Vali, no special status
		name = vilayet_events.2.b
		custom_tooltip = vilayet_events.2.ttb
		c:EGY = {
			trigger_event = {
				id = vilayet_events.4
				days = 7
			}
		}
	}
	option = { #We will settle for nothing less than conquest
		name = vilayet_events.2.c
		s:STATE_SINAI = {
			add_claim = ROOT
		}
		s:STATE_UPPER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_MIDDLE_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_LOWER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_EGYPTIAN_DESERT = {
			add_claim = ROOT
		}
		s:STATE_MATRUH = {
			add_claim = ROOT
		}
	}
}

vilayet_events.3 = { #Egypt response - Khedivate offered
		type = state_event
		title = vilayet_events.3.t
		desc = vilayet_events.3.d
		flavor =  vilayet_events.3.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Accept
		name = vilayet_events.3.a
		default_option = yes
		c:TUR = {
			trigger_event = vilayet_events.5
			create_diplomatic_pact = {
				country = c:EGY
				type = dominion
			}
		}
		set_variable = khedivate_conferred
	}
	
	option = { #Decline
		name = vilayet_events.2.b
		c:TUR = {
			trigger_event = vilayet_events.6
			days = 3
		}
	}
	
}

vilayet_events.4 = { #Egypt response - no Khedivate offered
		type = state_event
		title = vilayet_events.4.t
		desc = vilayet_events.4.d
		flavor =  vilayet_events.4.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Accept
		name = vilayet_events.4.a
		c:TUR = {
			trigger_event = vilayet_events.5
			create_diplomatic_pact = {
				country = c:EGY
				type = puppet
			}
		}
	}
	option = { #Decline
		name = vilayet_events.4.b
		default_option = yes
		c:TUR = {
			trigger_event = vilayet_events.6
		}
	}	
}

vilayet_events.5 = { #Ottoman notification - Egypt accepts subjection
		type = state_event
		title = vilayet_events.5.t
		desc = vilayet_events.5.d
		flavor =  vilayet_events.5.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Wonderful
		name = vilayet_events.5.a
		default_option = yes
		country_prestige_add = 10
	}
}

vilayet_events.6 = { #Ottoman notification - Egypt rejects subjection
		type = state_event
		title = vilayet_events.6.t
		desc = vilayet_events.6.d
		flavor =  vilayet_events.6.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Conquest it is then
		name = vilayet_events.6.a
		default_option = yes
		s:STATE_SINAI = {
			add_claim = ROOT
		}
		s:STATE_UPPER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_MIDDLE_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_LOWER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_EGYPTIAN_DESERT = {
			add_claim = ROOT
		}
		s:STATE_MATRUH = {
			add_claim = ROOT
		}
	}
}

# Tensions around Mount Lebanon
tanzimat_events.11 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.11.t
	desc = tanzimat_events.11.d
	flavor =  tanzimat_events.11.f
	fire_only_once = yes
	duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		
	}
	immediate = {
		s:STATE_LEBANON = {
			save_scope_as = mount_lebanon_state
		}
	}
	option = { #The irregulars have it in hand
		name = tanzimat_events.11.a
		default_option = yes
		# Change tag to whatever is appropriate ro your capital state
		
	}

	option = { #Send in the army
		name = tanzimat_events.11.b
		
	}
}


