namespace = ottoman_dynasty #events around deaths and succession
namespace = tur_major_holidays #Light flavour events for holidays
namespace = tanzimat_events #reform and rebellion related events
namespace = vilayet_events #events around the provinces and tributaries
namespace = opda_events #the Ottoman Public Debt Administration

# Death of Mahmud II
ottoman_dynasty.1 = {
		type = country_event
		title = ottoman_dynasty.1.t
		desc = ottoman_dynasty.1.d
		flavor =  ottoman_dynasty.1.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}
	immediate = {
		create_character = {
			first_name = Abdulaziz
			last_name = Osmanoglu
			heir = yes
			birth_date = 1839.2.8
			interest_group = ig_intelligentsia
			ideology = ideology_moderate
			traits = {
				persistent
			}
			on_created = {
				set_variable = {
					name = is_abdulmecid_i
				}				
			}
		}
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Sick Man je
	}
	option = { #The Sultan is dead, long live the Sultan
		name = ottoman_dynasty.1.a
		default_option = yes
		custom_tooltip = ottoman_dynasty.1.tt
	}
}

ottoman_dynasty.2 = { #Death of Abdulmejid I
		type = country_event
		title = ottoman_dynasty.2.t
		desc = ottoman_dynasty.2.d
		flavor =  ottoman_dynasty.2.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Sick Man je
	}
	option = { #The Sultan is dead, long live the Sultan
		name = ottoman_dynasty.2.a
		default_option = yes
	}
}

opda_events.1 = {
		type = country_event
		title = opda_events.1.t
		desc = opda_events.1.d
		flavor =  opda_events.1.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by defaulting during Tanzimat
	}
	option = { #
		name = opda_events.1.a
		default_option = yes
		custom_tooltip = opda_events.1.tt
		add_modifier = {
			name = opda_payments
			months = long_modifier_time
		}
	}
}



vilayet_events.1 = { #State organised into Vilayet
		type = state_event
		title = vilayet_events.1.t
		desc = vilayet_events.1.d
		flavor =  vilayet_events.1.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Bureaucracy je
	}
	option = { 
		name = vilayet_events.1.a
		default_option = yes
	}
}

vilayet_events.2 = { #Bringing Egypt to heel
		type = state_event
		title = vilayet_events.2.t
		desc = vilayet_events.2.d
		flavor =  vilayet_events.2.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the Syria je
	}
	option = { #We will confirm him as Khedive
		name = vilayet_events.2.a
		default_option = yes
		custom_tooltip = vilayet_events.2.tta
		ai_chance = {
			base = 85
		}
		c:EGY = {
			trigger_event = {
				id = vilayet_events.3
				days = 7
			}
		}
	}
	option = { #He will be the Vali, no special status
		name = vilayet_events.2.b
		custom_tooltip = vilayet_events.2.ttb
		c:EGY = {
			trigger_event = {
				id = vilayet_events.4
				days = 7
			}
		}
		ai_chance = {
			base = 15
		}
	}
	option = { #We will settle for nothing less than conquest
		name = vilayet_events.2.c
		s:STATE_SINAI = {
			add_claim = ROOT
		}
		s:STATE_UPPER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_MIDDLE_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_LOWER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_EGYPTIAN_DESERT = {
			add_claim = ROOT
		}
		s:STATE_MATRUH = {
			add_claim = ROOT
		}
		ai_chance = {
			base = 0
		}
	}
}

vilayet_events.3 = { #Egypt response - Khedivate offered
		type = state_event
		title = vilayet_events.3.t
		desc = vilayet_events.3.d
		flavor =  vilayet_events.3.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Accept
		name = vilayet_events.3.a
		default_option = yes
		c:TUR = {
			trigger_event = vilayet_events.5
			create_diplomatic_pact = {
				country = c:EGY
				type = dominion
			}
		}
		hidden_effect = {
			s:STATE_CRETE = {
				set_state_owner = c:TUR
			}
		}
		change_relations = {
			country = c:TUR
			value = 100
		}
		end_truce = c:TUR
		set_variable = khedivate_conferred
		ai_chance = {
			base = 90
		}
	}
	
	option = { #Decline
		name = vilayet_events.3.b
		c:TUR = {
			trigger_event = vilayet_events.6
			days = 3
		}
		set_variable = khedivate_conferred
		ai_chance = {
			base = 10
		}
	}
	
}

vilayet_events.4 = { #Egypt response - no Khedivate offered
		type = state_event
		title = vilayet_events.4.t
		desc = vilayet_events.4.d
		flavor =  vilayet_events.4.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Accept
		name = vilayet_events.4.a
		c:TUR = {
			trigger_event = vilayet_events.5
			create_diplomatic_pact = {
				country = c:EGY
				type = puppet
			}
		}
		hidden_effect = {
			s:STATE_CRETE = {
				set_state_owner = c:TUR
			}
		}
		change_relations = {
			country = c:TUR
			value = 100
		}
		end_truce = c:TUR
		ai_chance = {
			base = 45
		}
	}
	option = { #Decline
		name = vilayet_events.4.b
		default_option = yes
		c:TUR = {
			trigger_event = vilayet_events.6
		}
		set_variable = khedivate_conferred
		ai_chance = {
			base = 55
		}
	}	
}

vilayet_events.5 = { #Ottoman notification - Egypt accepts subjection
		type = state_event
		title = vilayet_events.5.t
		desc = vilayet_events.5.d
		flavor =  vilayet_events.5.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Wonderful
		name = vilayet_events.5.a
		default_option = yes
	}
}

vilayet_events.6 = { #Ottoman notification - Egypt rejects subjection
		type = state_event
		title = vilayet_events.6.t
		desc = vilayet_events.6.d
		flavor =  vilayet_events.6.f
		duration = 3
	event_image = {
		video = "gfx/event_pictures/middleeast_courtroom_upheaval.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		#triggered by the prior event
	}
	option = { #Conquest it is then
		name = vilayet_events.6.a
		default_option = yes
		s:STATE_SINAI = {
			add_claim = ROOT
		}
		s:STATE_UPPER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_MIDDLE_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_LOWER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_EGYPTIAN_DESERT = {
			add_claim = ROOT
		}
		s:STATE_MATRUH = {
			add_claim = ROOT
		}
	}
}

# Tensions around Mount Lebanon
tanzimat_events.11 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.11.t
	desc = tanzimat_events.11.d
	flavor =  tanzimat_events.11.f
	fire_only_once = yes
	duration = 1
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		
	}
	immediate = {
		set_global_variable = druze_christian_war
		s:STATE_LEBANON = {
			save_scope_as = mount_lebanon_state
		}
		any_scope_country = {
			limit = {
				has_interest_marker_in_region = region_middle_east
			}
			add_journal_entry = {
				type = je_druze_christian_war_foreign
			}
		}
	}
	option = { #Let's hope it doesn't get too bad
		name = tanzimat_events.11.a
		default_option = yes
		trigger_event = {
			id = tanzimat_events.12
			days = { 0 35 }
		}
	}
}

# Mt Lebanon situation escalates
tanzimat_events.12 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.12.t
	desc = tanzimat_events.12.d
	flavor =  tanzimat_events.12.f
	fire_only_once = yes
	duration = 1
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		
	}
	option = { #Rely on the Kurdish irrelgulars
		name = tanzimat_events.12.a
		default_option = yes
		
	}
	option = { #The Kurds can't be trusted, send in the army
		name = tanzimat_events.12.b
		default_option = yes

	}
}

#Our forces join the anti-Christian riots
tanzimat_events.13 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.13.t
	desc = tanzimat_events.13.d
	flavor =  tanzimat_events.13.f
	fire_only_once = yes
	duration = 1
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		
	}
	option = { #This is a disaster!
		name = tanzimat_events.13.a
		default_option = yes
		
	}

}

#The riots continue
tanzimat_events.14 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.14.t
	desc = tanzimat_events.14.d
	flavor =  tanzimat_events.14.f
	duration = 1
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		has_variable = lebanon_civil_war_ongoing
	}
	option = { #Glad we got that under control
		name = tanzimat_events.14.a
		default_option = yes
		
	}

}

#The riots are quelled
tanzimat_events.15 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.15.t
	desc = tanzimat_events.15.d
	flavor =  tanzimat_events.15.f
	fire_only_once = yes
	duration = 1
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		
	}
	option = { #Glad we got that under control
		name = tanzimat_events.15.a
		default_option = yes
		
	}
}

#Rioting spreads to Damascus
tanzimat_events.16 = {
	type = state_event
	placement = scope:mount_lebanon_state
	title = tanzimat_events.16.t
	desc = tanzimat_events.16.d
	flavor =  tanzimat_events.16.f
	fire_only_once = yes
	duration = 1
	event_image = {
		video = "gfx/event_pictures/middleeast_police_breaking_door.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/middleeast/police_breaking_door"
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	trigger = {
		s:STATE_SYRIA = {	
			turmoil > 0.1
		}
	}
	option = { #Oh no
		name = tanzimat_events.16.a
		default_option = yes
	}
}




