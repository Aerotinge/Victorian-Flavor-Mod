namespace = seohak

seohak.1 = { #Spawn Seohak
	type = country_event
	placement = scope:seohak_state

	hidden = yes

	duration = 3

	immediate = {
		s:STATE_PYONGYANG = {
			every_scope_state = {
				limit = {owner = root}
				save_scope_as = seohak_state
			}
		}
		ig:ig_landowners = {
			save_scope_as = landowners_ig
		}
		scope:seohak_state = {
			if = {
				limit = {
					NOT = { has_modifier = seohak_religion_present }
				}
				add_modifier = seohak_religion_present
			}
		}
	}

	trigger = {
		#triggered by silhak_return JE
	}
	option = {
		name = seohak.1.a
		default_option = yes
		scope:seohak_state = {
			add_radicals = {
				value = medium_radicals
				interest_group = scope:landowners_ig
			}
			convert_population = {
				target = rel:catholic
				value = 0.01
			}
		}
	}
}

seohak.2 = { #convert some guys
	type = country_event
	placement = root

	hidden = yes
	duration = 1

	trigger = {
		#triggered by monthly pulse JE
	}
	immediate = {
		every_state = {
			limit = {
				has_modifier = seohak_religion_present
			}
			convert_population = {
				target = rel:catholic
				value = 0.01
			}
		}
	}
}

seohak.3 = { #spread to a neighbouring state
	type = country_event
	placement = root
	
	hidden = yes
	duration = 1

	trigger = {
		#triggered by monthly pulse JE
	}
	immediate = {
		every_state = {
			limit = {
				has_modifier = seohak_religion_present
			}
			convert_population = {
				target = rel:catholic
				value = 0.005
			}
			random_neighbouring_state = {
				limit = {
					owner = root
					state_region = {
						is_homeland = cu:korean
					}
					NOT = {
						has_modifier = seohak_religion_present
					}
				}
				convert_population = {
					target = rel:catholic
					value = 0.01
				}
				add_modifier = {
					seohak_religion_present
				}
			}
		}
	}
}

seohak.4 = {
	type = country_event
	placement = root

	hidden = yes
	duration = 1

	immediate = {
		every_state = {
			limit = {
				has_modifier = seohak_religion_present
				NOT = {
					any_scope_pop = {
						has_religion = rel:catholic
					}
				}
			}
			remove_modifier = seohak_religion_present
		}
	}
}

seohak.5 = {
	type = country_event
	placement = root

	immediate = {
		every_state = {
			limit = {
				has_modifier = seohak_religion_present
			}
			save_scope_as = donghak_state
		}
	}

	create_country = {
		origin = root
		state = scope:donghak_state
	}
}