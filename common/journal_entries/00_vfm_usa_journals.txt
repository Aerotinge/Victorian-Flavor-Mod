je_indian_removal = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_monthly_pulse = {
		random_events = {
			10 = 0 
			1 = native_resettlement.2 # john ross
			1 = native_resettlement.3 # Preparing for resettlement
			1 = native_resettlement.4 # Trail of Tears
		}
	}

	complete = {
			AND = {
				custom_tooltip = {
					text = indian_removal_east_of_mississippi
				}
				AND = {
					OR = {
						custom_tooltip = {
							text = indian_removal_seminole_remove
							NOT = {
								s:STATE_FLORIDA.region_state:USA = {
									any_scope_pop = {
										culture = {
											has_discrimination_trait = indigenous_american_heritage
										}
									}
								}
							}
						}
						custom_tooltip = {
							text = indian_removal_seminole_stay
						}
					}
					OR = {
						custom_tooltip = {
							text = indian_removal_seminole_remove
							NOT = {
								s:STATE_ALABAMA.region_state:USA = {
									any_scope_pop = {
										culture = {
											has_discrimination_trait = indigenous_american_heritage
										}
									}
								}
							}
						}
						custom_tooltip = {
							text = indian_removal_seminole_stay
						}
					}

				}
			}
			NOT = { has_law = law_type:law_no_colonial_affairs }
			cu:cherokee = {
				NOT = { culture_is_discriminated_in = ROOT }
			}
	}
	
	on_complete = {
		custom_tooltip = {
			text = indian_removal_end
			if = {
				limit = {
					NOT = {
						any_scope_pop = {
							culture = cu:cherokee
						}
					}
				}
				trigger_event = { id = native_resettlement.5 }
			}
			else = {
				trigger_event = { id = native_resettlement.6 }
			}
		}
	}

	fail = {
		has_law = law_type:law_no_colonial_affairs
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = indian_removal_status_1
				trigger = {
					NOT = { is_enacting_law = law_type:law_no_colonial_affairs }
				}
			}
			triggered_desc = {
				desc = indian_removal_status_2
				trigger = {
					is_enacting_law = law_type:law_no_colonial_affairs
				}
			}
		}
	}
	
	weight = 200
	
	should_be_pinned_by_default = yes
	
	inheritable = no
}

slave_owner_paranoia = {

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	is_shown_when_inactive = {
		OR = {
			has_law = law_type:law_slave_trade
			has_law = law_type:law_legacy_slavery
		}
		radical_fraction = {
			value >= 0.1
			pop_type = slaves
		}
	}
	
	possible = {
		radical_fraction = {
			value >= 0.2
			pop_type = slaves
		}
		any_interest_group = {
			leader = { has_ideology = ideology_abolitionist }
		}
	}

	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = slave_owner_paranoia_radicalization_high
				trigger = {
					radical_fraction = {
						value >= 0.5
						pop_type = slaves
					}
				}
			}
			triggered_desc = {
				desc = slave_owner_paranoia_radicalization_mid
				trigger = {
					radical_fraction = {
						value >= 0.2
						pop_type = slaves
					}
				}
			}
			triggered_desc = {
				desc = slave_owner_paranoia_radicalization_low
			}
		}
	}

	complete = {
		radical_fraction = {
			value < 0.05
			pop_type = slaves
		}
	}

	# 5 years
	timeout = 1825
	
	on_yearly_pulse = {
		random_events = {
			40  = 0
			10 = slave_owner_paranoia_events.1
			10 = slave_owner_paranoia_events.2
			10 = slave_owner_paranoia_events.3
		}
	}
	
	weight = 200
}

je_manifest_destiny_mexico = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	# note that if you change this, also update the decision
	complete = {
		owns_entire_state_region = STATE_CALIFORNIA
		owns_entire_state_region = STATE_NEVADA
		owns_entire_state_region = STATE_UTAH
		owns_entire_state_region = STATE_ARIZONA
		owns_entire_state_region = STATE_NEW_MEXICO
		owns_entire_state_region = STATE_TEXAS
	}

	on_complete = {
		trigger_event = { id = manifest_destiny.1 }
	}

	weight = 100
	should_be_pinned_by_default = yes
}

je_manifest_destiny_frontier_wars = {
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	# note that if you change this, also update the decision
	complete = {
		has_state_in_state_region = STATE_MONTANA
		s:STATE_MONTANA = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
				}
			}
		}
		has_state_in_state_region = STATE_WYOMING
		s:STATE_WYOMING = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
				}
			}
		}
		has_state_in_state_region = STATE_NEBRASKA
		s:STATE_NEBRASKA = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
				}
			}
		}
		has_state_in_state_region = STATE_COLORADO
		s:STATE_COLORADO = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
					NOT = {
						owner = c:UTE
					}
				}
			}
		}
		has_state_in_state_region = STATE_KANSAS
		s:STATE_KANSAS = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
					NOT = {
						owner = c:COM
					}
				}
			}
		}
		has_state_in_state_region = STATE_NORTH_DAKOTA
		s:STATE_NORTH_DAKOTA = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
				}
			}
		}
		has_state_in_state_region = STATE_SOUTH_DAKOTA
		s:STATE_SOUTH_DAKOTA = {
			NOT = {
				any_scope_state = {
					owner = {
						country_rank = 0
					}
				}
			}
		
		}
    }

	
	on_complete = {
		trigger_event = { id = manifest_destiny.2 }
	}

	on_monthly_pulse = {
		random_events = {
			10 = 0
			1 = manifest_destiny.3
		}
	}
	
	weight = 100
	
	inheritable = no
	should_be_pinned_by_default = yes
}

je_oregon = {
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	is_shown_when_inactive = {
		exists = c:USA
		exists = c:GBR
		c:USA = ROOT
		s:STATE_WASHINGTON = {
			any_scope_state = {
				owner = {
					OR = {
						c:GBR = THIS
						is_subject_of = c:GBR
					}
				}
			}
		}
		s:STATE_OREGON = {
			any_scope_state = {
				owner = {
					OR = {
						c:GBR = THIS
						is_subject_of = c:GBR
					}
				}
			}
		}
		s:STATE_IDAHO = {
			any_scope_state = {
				owner = {
					OR = {
						c:GBR = THIS
						is_subject_of = c:GBR
					}
				}
			}
		}
	}

	possible = {
		has_interest_marker_in_region = region_pacific_coast
	}

	complete = {
		OR = {
			AND = {
				custom_tooltip = {
					text = oregon_tt
					has_global_variable = oregon_trail_mapped
				}
				has_state_in_state_region = STATE_MONTANA
				s:STATE_MONTANA = {
					NOT = {
						any_scope_state = {
							owner = {
								country_rank = 0
							}
						}
					}
				}
				
				has_state_in_state_region = STATE_WYOMING
				s:STATE_WYOMING = {
					NOT = {
						any_scope_state = {
							owner = {
								country_rank = 0
							}
						}
					}
				}
				c:GBR = {
					relations:ROOT >= relations_threshold:cordial
				}
			}
			AND = {
				owns_entire_state_region = STATE_WASHINGTON
				owns_entire_state_region = STATE_IDAHO
				owns_entire_state_region = STATE_OREGON
			}
		}
	}

	on_complete = {
		if = {
			limit = {
				s:STATE_WASHINGTON = {
					any_scope_state = {
						owner = {
							OR = {
								c:GBR = THIS
								is_subject_of = c:GBR
							}
						}
					}
				}
				s:STATE_OREGON = {
					any_scope_state = {
						owner = {
							OR = {
								c:GBR = THIS
								is_subject_of = c:GBR
							}
						}
					}
				}
				s:STATE_IDAHO = {
					any_scope_state = {
						owner = {
							OR = {
								c:GBR = THIS
								is_subject_of = c:GBR
							}
						}
					}
				}
			}
			c:GBR = { trigger_event = { id = oregon.2 } }
		}
		else = {
			s:STATE_IDAHO = {
				add_homeland = yankee
			}
			s:STATE_WASHINGTON = {
				add_homeland = yankee
			}
			s:STATE_OREGON = {
				add_homeland = yankee
			}
			add_modifier = {
				name = oregon_resolved
				months = normal_modifier_time
			}
		}
	}

	weight = 100
}

je_conquer_oregon = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	complete = {
		c:USA = {
			owns_entire_state_region = STATE_WASHINGTON
			owns_entire_state_region = STATE_IDAHO
			owns_entire_state_region = STATE_OREGON
		}
	}

	weight = 100

	inheritable = no
}

je_texas_usa = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	complete = {
		exists = c:TEX
		c:TEX = {
			relations:root >= relations_threshold:cordial
			is_subject = no
			is_at_war = no
		}
	}

	on_complete = {
		custom_tooltip = texas_je_tt		
	}

	invalid = {
		OR = {
			NOT = { exists = c:TEX }
			c:TEX = { is_subject = yes }
		}
	}
	
	weight = 100
	
	inheritable = no
}

je_acw_countdown = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	immediate = {
		set_variable = {
			name = acw_progress_var
			value = 0
		}
	}

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
		has_law = law_type:law_slavery_banned
	}

	on_complete = {
		remove_modifier = missouri_compromise
	}

	fail = {
		OR = {
			# CSA
			custom_tooltip = {
				text = acw_landowner_revolt
				any_country = {
					is_revolutionary = yes
					country_definition = root.country_definition
					ig:ig_landowners = {
						is_in_government = yes
					}
				}
			}
			# FSA
			custom_tooltip = {
				text = acw_antislaver_revolt
				ig:ig_landowners = {
					is_in_government = yes
				}
				NOT = { has_law = law_type:law_slavery_banned }
				NOT = { is_enacting_law = law_type:law_slavery_banned }
				any_country = {
					is_revolutionary = yes
					country_definition = root.country_definition
				}
			}
		}
	}

	on_fail = {
		if = {
			limit = {
				any_country = {
					is_revolutionary = yes
					country_definition = root.country_definition
					ig:ig_landowners = {
						is_in_government = yes
					}
				}
			}
			set_variable = csa_will_spawn_var
		}
		custom_tooltip = {
			text = acw_will_happen_tt
			trigger_event = { id = acw_je_events.1 }
		}
	}

	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					has_law = law_type:law_slavery_banned
				}
				change_variable = {
					name = acw_progress_var
					add = 1
				}
			}
		}
		random_events = {
			# American Civil War buildup
			200 = 0
			10 = acw_events.1 # The Abolitionist's Martyrdom
			10 = acw_events.3 # The Wilmot Proviso
		}
	}
	on_yearly_pulse = {
		random_events = {
			40 = 0
			20 = acw_events.2 # The Fugitive Slave
			20 = acw_events.5 # Bleeding Kansas
			20 = acw_events.6 # The Caning of Charles Sumner
		}
	}

	current_value = {
		value = root.var:acw_progress_var
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 100

	should_be_pinned_by_default = yes
}

je_acw_war = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	complete = {
		custom_tooltip = {
			text = acw_war_tt_complete
			scope:target = { is_country_alive = no }
		}
	}

	on_complete = {
		trigger_event = { id = acw_je_events.2 }
		if = {
			limit = { 
				has_variable = csa_will_spawn_var
			}
			ruler = {
				set_variable = abraham_lincoln
			}
		}
	}

	on_monthly_pulse = {
		events = {
			acw_je_events.4
		}
	}

	should_be_pinned_by_default = yes

	# acw_events.7 fires for the FSA or CSA, but requires the je_acw_war journal to be active
	# acw_events.8 fires for the USA, FSA or CSA, but requires the je_acw_war journal to be active
}

je_acw_reconstruction = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

	on_complete = {
		trigger_event = { id = acw_je_events.3 }
		hidden_effect = { # sanity check just in case something somehow falls through the cracks
			every_scope_state = {
				limit = { has_modifier = unreconstructed_state }
				remove_modifier = unreconstructed_state
			}
		}
	}

	current_value = {
		value = var:reconstruction_var
	}

	goal_add_value = {
		add = 3
	}

	timeout = 4380

	should_be_pinned_by_default = yes

	on_timeout = {
		trigger_event = { id = acw_je_events.3 }
	}
}

je_acw_reincorporate = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	complete = {
		NOT = {
			any_scope_state = {
				has_modifier = unreconstructed_state
				is_incorporated = no
			}
		}
		NOT = {
			any_scope_state = {
				state_region = {
					is_homeland = cu:dixie
				}
				loyalist_fraction = {
					value < 0.2
					culture = cu:dixie
				}
			}
		}
	}

	on_complete = {
		custom_tooltip = {
			text = dont_lose_dixie_culture
			set_variable = acw_keep_dixie
		}
		custom_tooltip = {
			text = reconstruction_progress
			change_variable = {
				name = reconstruction_var
				add = 1
			}
		}
	}

	on_monthly_pulse = {
		random_events = {
			50 = 0
			20 = acw_followup_events.6
			20 = acw_followup_events.7
			20 = acw_followup_events.8
		}
	}

	invalid = {
		NOT = {
			any_scope_state = {
				state_region = {
					is_homeland = cu:dixie
				}
			}
		}
	}

	timeout = 4380
}

je_acw_equality = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	complete = {
		custom_tooltip = {
			text = acw_african_american_culture_complete_tt
			cu:afro_american = {
				NOT = { culture_is_discriminated_in = ROOT }
			}
		}
	}

	on_complete = {
		custom_tooltip = {
			text = acw_african_american_culture
			set_variable = acw_gain_african_american
		}
		custom_tooltip = {
			text = reconstruction_progress
			change_variable = {
				name = reconstruction_var
				add = 1
			}
		}
	}

	on_monthly_pulse = {
		random_events = {
			90 = 0
			20 = acw_followup_events.4 # Forty Acres and a Mule
			20 = acw_followup_events.5 # Supremacist Violence
			20 = acw_followup_events.6 # Redeemers
		}
	}

	timeout = 4380

	invalid = {
		NOT = {
			any_scope_state = {
				state_region = {
					is_homeland = cu:afro_american
				}
			}
		}
	}
}

je_acw_wild_wild_west = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
		NOT = {
			any_scope_state = {
				state_region = {
					OR = {
						is_homeland = cu:dixie
						is_homeland = cu:yankee
					}
				}
				devastation > 0.1
				turmoil > 0.1
			}
		}
	}

	on_complete = {
		custom_tooltip = {
			text = acw_no_outlaw_crisis
		}
		custom_tooltip = {
			text = reconstruction_progress
			change_variable = {
				name = reconstruction_var
				add = 1
			}
		}
	}

	on_monthly_pulse = {
		random_events = {
			100 = 0
			10 = crime_events.1 # train robbery
			10 = wild_west.1 # bank robberies
			10 = wild_west.2 # Raids on the Iron Horse
			10 = wild_west.3 # Gunfight at the Corral
		}
		effect = {
			if = {
				limit = {
					NOT = {
						any_scope_state = {
							state_region = {
								OR = {
									is_homeland = cu:dixie
									is_homeland = cu:yankee
								}
							}
							devastation > 0.1
							turmoil > 0.1
						}
					}
				}
				change_variable = {
					name = je_acw_wild_west_var
					add = 1
				}
			}
		}
	}

	invalid = {
		NOT = {
			any_scope_state = {
				state_region = {
					OR = {
						is_homeland = cu:dixie
						is_homeland = cu:yankee
					}
				}
			}
		}
	}

	current_value = {
		value = var:je_acw_wild_west_var
	}
	
	goal_add_value = {
		add = 60
	}

	progressbar = yes

	timeout = 4380
}