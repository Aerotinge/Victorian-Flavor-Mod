je_1848_buildup = {
	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	is_shown_when_inactive = {
		country_is_in_europe = yes
		has_technology_researched = nationalism
	}

    possible = {
		OR = {
			has_law = law_type:law_theocracy
			has_law = law_type:law_monarchy

			custom_tooltip = {
				text = voting_franchise_tt
				country_has_voting_franchise = no
			}
		}

		OR = {
			any_scope_state = {
				is_incorporated = yes
				turmoil >= 0.5
			}
			AND = {
				any_scope_state = {
					is_incorporated = yes
					turmoil >= 0.15
				}
				any_neighbouring_state = {
					owner = {
						OR = {
							#Add other relevant journals later
							has_journal_entry = je_1848_buildup
							has_journal_entry = je_1848
						}
					}
				}
			}
		}
		
	}

	immediate = {
		random_law = {
			limit = { type = law_type:law_monarchy }
			save_scope_as = monarchy_scope
		}
		random_law = {
			limit = { type = law_type:law_outlawed_dissent }
			save_scope_as = dissent_scope
		}
		random_law = {
			limit = { type = law_type:law_autocracy }
			save_scope_as = autocracy_scope
		}
		random_law = {
			limit = { type = law_type:law_theocracy }
			save_scope_as = theocracy_scope
		}
		random_law = {
			limit = { type = law_type:law_right_of_assembly }
			save_scope_as = assembly_scope
		}
		random_law = {
			limit = { type = law_type:law_protected_speech }
			save_scope_as = protected_scope
		}

	}

	fail = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
		custom_tooltip = {
			text = 1848_criteria
		}
	}

	goal_add_value = {
		add = 5
	}

	on_fail = {
		add_journal_entry = {
			type = je_1848
		}
	}

	current_value = {
		value = var:springtime_revolt
	}

	progressbar = yes

	timeout = 1900

    should_be_pinned_by_default = yes
	weight = 1000 
}


je_1848 = {
	icon = "gfx/interface/icons/event_icons/event_fire.dds"

    complete = {	
		NOT = { has_law = law_type:law_theocracy }
		NOT = { has_law = law_type:law_monarchy }
		
		
		custom_tooltip = {
			text = voting_franchise_yes_tt
			country_has_voting_franchise = yes
		}
	}

	on_complete = {
		#Yay Reforms
	}


	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_bananas_status
			}
		}
	}
	
    should_be_pinned_by_default = yes
	weight = 1000 
}